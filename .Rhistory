data2
A=runif(10000)
H=hist(A,breaks=c(0,0.2,0.4,0.6,0.8,1))
H=hist(A,breaks=c(0,0.2,0.4,0.6,0.8,1),freq=FALSE)
H1=hist(A,breaks=c(0,0.2,0.6,0.8,1))
H1$counts
H$counts
1+3.22*log10(10000)
round(1+3.22*log10(10000))
round(1+3.22*log10(1000000))
round(1+3.22*log10(100))
round(1+3.22*log10(1))
round(1+3.22*log10(2))
round(1+3.22*log10(3))
round(1+3.22*log10(4))
round(1+3.22*log10(5))
round(1+3.22*log10(15))
round(1+3.22*log10(10))
fluc <- function(n,lambda,K)
{
L=c()
for (i in 1:K){
A=rexp(n,lambda)
L=c(L,1/mean(A))
}
fluc=L
}
Est=fluc(100,4,50)
Est
boxplot(Est)
Est=fluc(1000,4,50)
boxplot(Est)
Est=fluc(10000,4,50)
boxplot(Est)
Est=fluc(1000000,4,50)
boxplot(Est)
getwd()
P = rpois(200,5)
hist(P,freq=FALSE)
mean(P)
fluc <- function(n,lambda,K)
{
# L empty vector
L=c()
for (i in 1:K){
# generates dataset of Poisson distribution parameter lambda, n observations
A=rpois(n,lambda)
# add estimator: mean(A) in L
L=c(L,mean(A))
}
# return L
fluc=L
}
# 200 observations
# poisson parameter lambda = 5
# 1000 estimators generated
Est=fluc(200,5,1000)
boxplot(Est)
View(fluc)
# add estimator: mean(A) in L
L=c(L,mean(A))
fluc <- function(n,lambda,K)
{
# L empty vector
L=c()
for (i in 1:K){
# generates dataset of Poisson distribution parameter lambda, n observations
A=rpois(n,lambda)
# add estimator: mean(A) in L
L=c(L,mean(A))
}
# return L
fluc=L
}
# 200 observations
# poisson parameter lambda = 5
# 1000 estimators generated
Est=fluc(200,5,1000)
boxplot(Est)
fluc <- function(n,lambda,K)
{
# L empty vector
L=c()
for (i in 1:K){
# generates dataset of Poisson distribution parameter lambda, n observations
A=rpois(n,lambda)
# add estimator: mean(A) in L
L=c(L,mean(A))
}
# return L
fluc=L
}
# 200 observations
# poisson parameter lambda = 5
# 1000 estimators generated
Est=fluc(200,5,1000)
hist(Est,freq=FALSE)
boxplot(Est)
fluc <- function(n,lambda,K)
{
# L empty vector
L=c()
for (i in 1:K){
# generates dataset of Poisson distribution parameter lambda, n observations
A=rpois(n,lambda)
# add estimator: mean(A) in L
L=c(L,mean(A))
}
# return L
fluc=L
}
# 200 observations
# poisson parameter lambda = 5
# 1000 estimators generated
Est=fluc(200,5,1000)
hist(Est,freq=FALSE,breaks = 50)
boxplot(Est)
hist(Est,freq=FALSE,breaks = 20)
# Study the variation over K iterations
# of estimator
# using n randomly generated exponential distribution of parameter lambda
fluc <- function(n,lambda,K)
{
# L empty vector
L=c()
for (i in 1:K){
# generates dataset of exponential distribution parameter lambda, n observations
A=rexp(n,lambda)
# add estimator: 1/mean(A) in L
L=c(L,1/mean(A))
}
# return L
fluc=L
}
# 100 observations
# exponential parameter lambda = 4
# 50 estimators generated
Est=fluc(100,4,50)
boxplot(Est)
# more observations -> better estimator
Est=fluc(1000,4,50)
boxplot(Est)
library(rstudioapi)
# Getting the path of your current open file
current_path = rstudioapi::getActiveDocumentContext()$path
setwd(dirname(current_path ))
getwd
getwd()
# get set working directory
# getwd()
# setwd("C:/.../R-part2")
# set working directory to current one
library(rstudioapi)
# Getting the path of your current open file
current_path = rstudioapi::getActiveDocumentContext()$path
setwd(dirname(current_path ))
# Read table from txt file
B=read.table('data2.txt')
B
# display nb of occurences per value
table(B)
v=var(B)*999/1000
v
# mean needs a matrix: as.matrix()
m=mean(as.matrix(B))
m
# an estimator of p
phat=1-v/m
# an estimator of n
nhat=m/phat
phat
nhat
#nhat should be integer --> nhat=11; --> needs to recalculate phat = m/nhat
nhat=11
phat=m/nhat
x=seq(-1,5,0.01)
fx=0*(x<0)+(x^2/8)*(x>=0)*(x<2)+(-x^2/8+x-1)*(x>=2)*(x<4)+1*(x>=4)
plot(x,fx,type='l',col='red')
# 50000 simulationsof a uniform distribution on [0,1]
u=runif(50000)
Y=sqrt(8*u)*(u<=1/2)+(4-sqrt(8-8*u))*(u>1/2)
min(Y)
max(Y)
hist(Y,freq=FALSE,breaks=50)
#example
A=matrix(1:10,ncol=2)
#sum by row
apply(A,1,sum)
M=matrix(data=runif(500000*100,0,3.5),nrow=5000)
Xbar=apply(M,1,mean)
hist(Xbar,freq=FALSE,breaks=20)
